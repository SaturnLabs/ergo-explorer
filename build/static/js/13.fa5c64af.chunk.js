(this["webpackJsonpblockchain-explorer"]=this["webpackJsonpblockchain-explorer"]||[]).push([[13],{236:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(9),s=i(10),a=i(14),l=i(13),c=i(0),r=i.n(c),o=i(16),b=i(32),p=(i(237),i(15)),m=i(2),d=function(e){Object(a.a)(i,e);var t=Object(l.a)(i);function i(e){return Object(n.a)(this,i),t.call(this,e)}return Object(s.a)(i,[{key:"render",value:function(){var e=Math.ceil(this.props.total/this.props.limit);return e?Object(m.jsxs)("div",{className:"bi-paginate-simple",children:[0===this.props.forcePage?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.m,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",to:this.props.getPageUrl(0),children:Object(m.jsx)(p.m,{className:"bi-paginate-simple__btn-icon"})}),0===this.props.forcePage?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.c,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage-1),children:Object(m.jsx)(p.c,{className:"bi-paginate-simple__btn-icon"})}),Object(m.jsx)("span",{className:"bi-paginate-simple__status",children:Object(m.jsx)(o.a,{id:"components.paginate-simple.page-of",values:{current:this.props.forcePage+1,total:e}})}),Object(m.jsx)("span",{className:"bi-paginate-simple__status bi-paginate-simple__status--mobile",children:Object(m.jsx)(o.a,{id:"components.paginate-simple.page",values:{current:this.props.forcePage+1}})}),this.props.forcePage===e-1?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.c,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage+1),children:Object(m.jsx)(p.c,{className:"bi-paginate-simple__btn-icon"})}),this.props.forcePage===e-1?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.m,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(e-1),children:Object(m.jsx)(p.m,{className:"bi-paginate-simple__btn-icon"})})]}):null}}]),i}(r.a.Component)},237:function(e,t,i){},254:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(9),s=i(10),a=i(14),l=i(13),c=i(38),r=i.n(c),o=i(0),b=i.n(o),p=i(32),m=(i(255),i(2)),d=function(e){Object(a.a)(i,e);var t=Object(l.a)(i);function i(){return Object(n.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"bi-limit-selector",children:[Object(m.jsx)("span",{className:"bi-limit-selector__label",children:this.props.label}),this.props.items.map((function(t,i){var n=r()({"bi-btn":!0,"bi-btn--flat":!0,"bi-limit-selector__item":!0,"bi-limit-selector__item--selected":t===e.props.selected});return Object(m.jsx)(p.Link,{className:n,to:e.props.getLimitLink(t),children:t},i)}))]})}}]),i}(b.a.PureComponent)},255:function(e,t,i){},648:function(e,t,i){},649:function(e,t,i){},668:function(e,t,i){"use strict";i.r(t);var n=i(3),s=i(9),a=i(10),l=i(17),c=i(14),r=i(13),o=i(57),b=i.n(o),p=i(0),m=i.n(p),d=i(65),u=i.n(d),h=i(16),f=i(26),j=i(24),_=i(254),g=i(236),O=i(19),k=i(81),x=i(46),v=function(){function e(){Object(s.a)(this,e)}return Object(a.a)(e,null,[{key:"apiUrl",get:function(){return"".concat(O.a.apiUrl)}},{key:"getAllIssuedTokens",value:function(e,t){var i=t.limit,n=t.offset;return Object(k.a)(x.b,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens",params:{limit:i,offset:n}},{dispatch:e})}},{key:"getTotalIssuedTokens",value:function(e,t){var i=t.limit;return Object(k.a)(x.f,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens",params:{limit:i}},{dispatch:e})}},{key:"getIssuedTokensById",value:function(t,i){return Object(k.a)(x.c,{method:"get",url:"".concat(e.apiUrl,"/tokens/").concat(i,"/issuingBox")},{dispatch:t})}}]),e}(),y=i(105),N={getTokens:function(e){return function(t){return v.getAllIssuedTokens(t,e).then((function(i){t({payload:{offset:e.offset||0},type:y.a})}))}}},w=i(30),T=function(e){return Object(w.getStruct)(x.b)(e)},L=i(47),P=i.n(L),W=i(32),S=i(84),E=i(6),C=i.n(E),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},M=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var A=function(e){function t(){var e;F(this,t);for(var i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];var a=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return a.state={},a.styles={ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}},a.elements={},a.onResize=a.onResize.bind(a),a.onTruncate=a.onTruncate.bind(a),a.calcTargetWidth=a.calcTargetWidth.bind(a),a.measureWidth=a.measureWidth.bind(a),a.getLines=a.getLines.bind(a),a.renderLine=a.renderLine.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),M(t,[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,i=this.onResize,n=document.createElement("canvas");this.canvasContext=n.getContext("2d"),t((function(){e&&e.parentNode.removeChild(e)})),window.addEventListener("resize",i)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,i=this.timeout;e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(i)}},{key:"innerText",value:function(e){var t=document.createElement("div"),i="innerText"in window.HTMLElement.prototype?"innerText":"textContent";t.innerHTML=e.innerHTML.replace(/\r\n|\r|\n/g," ");var n=t[i],s=document.createElement("div");return s.innerHTML="foo<br/>bar","foo\nbar"!==s[i].replace(/\r\n|\r/g,"\n")&&(t.innerHTML=t.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),n=t[i]),n}},{key:"onResize",value:function(){this.calcTargetWidth()}},{key:"onTruncate",value:function(e){var t=this.props.onTruncate;"function"===typeof t&&(this.timeout=window.requestAnimationFrame((function(){t(e)})))}},{key:"calcTargetWidth",value:function(e){var t=this.elements.target,i=this.calcTargetWidth,n=this.canvasContext,s=this.props.width;if(t){var a=s||Math.floor(t.parentNode.getBoundingClientRect().width);if(!a)return window.requestAnimationFrame((function(){return i(e)}));var l=window.getComputedStyle(t),c=[l["font-weight"],l["font-style"],l["font-size"],l["font-family"]].join(" ");n.font=c,this.setState({targetWidth:a},e)}}},{key:"measureWidth",value:function(e){return this.canvasContext.measureText(e).width}},{key:"ellipsisWidth",value:function(e){return e.offsetWidth}},{key:"trimRight",value:function(e){return e.replace(/\s+$/,"")}},{key:"getLines",value:function(){for(var e=this.elements,t=this.props,i=t.lines,n=t.ellipsis,s=t.trimWhitespace,a=this.state.targetWidth,l=this.innerText,c=this.measureWidth,r=this.onTruncate,o=this.trimRight,b=[],p=l(e.text).split("\n").map((function(e){return e.split(" ")})),d=!0,u=this.ellipsisWidth(this.elements.ellipsis),h=1;h<=i;h++){var f=p[0];if(0!==f.length){var j=f.join(" ");if(c(j)<=a&&1===p.length){d=!1,b.push(j);break}if(h===i){for(var _=f.join(" "),g=0,O=_.length-1;g<=O;){var k=Math.floor((g+O)/2);c(_.slice(0,k+1))+u<=a?g=k+1:O=k-1}var x=_.slice(0,g);if(s)for(x=o(x);!x.length&&b.length;){x=o(b.pop())}j=m.a.createElement("span",null,x,n)}else{for(var v=0,y=f.length-1;v<=y;){var N=Math.floor((v+y)/2);c(f.slice(0,N+1).join(" "))<=a?v=N+1:y=N-1}if(0===v){h=i-1;continue}j=f.slice(0,v).join(" "),p[0].splice(0,v)}b.push(j)}else b.push(),p.shift(),h--}return r(d),b}},{key:"renderLine",value:function(e,t,i){if(t===i.length-1)return m.a.createElement("span",{key:t},e);var n=m.a.createElement("br",{key:t+"br"});return e?[m.a.createElement("span",{key:t},e),n]:n}},{key:"render",value:function(){var e=this,t=this.elements.target,i=this.props,n=i.children,s=i.ellipsis,a=i.lines,l=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(i,["children","ellipsis","lines"]),c=this.state.targetWidth,r=this.getLines,o=this.renderLine,b=this.onTruncate,p=void 0;return"undefined"!==typeof window&&!(!t||!c)&&(a>0?p=r().map(o):(p=n,b(!1))),delete l.onTruncate,delete l.trimWhitespace,m.a.createElement("span",U({},l,{ref:function(t){e.elements.target=t}}),m.a.createElement("span",null,p),m.a.createElement("span",{ref:function(t){e.elements.text=t}},n),m.a.createElement("span",{ref:function(t){e.elements.ellipsis=t},style:this.styles.ellipsis},s))}}]),t}(p.Component);A.propTypes={children:C.a.node,ellipsis:C.a.node,lines:C.a.oneOfType([C.a.oneOf([!1]),C.a.number]),trimWhitespace:C.a.bool,width:C.a.number,onTruncate:C.a.func},A.defaultProps={children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0};var z=A,I=i(2),H=function(e){var t=e.children,i=e.lines,n=Object(p.useState)(!1),s=Object(S.a)(n,2),a=s[0],l=s[1],c=Object(p.useState)(!1),r=Object(S.a)(c,2),o=r[0],b=r[1],m=Object(I.jsxs)(I.Fragment,{children:[!a&&"...",Object(I.jsx)("br",{}),Object(I.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),l(!a)},children:Object(I.jsx)(h.a,{id:a?"common.token.showLess":"common.token.showMore"})})]});return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(z,{lines:!a&&i,ellipsis:m,onTruncate:b,children:t}),!o&&a&&m]})},D=(i(648),function(e){Object(c.a)(i,e);var t=Object(r.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(a.a)(i,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"bi-blocks-table",children:this.props.tokens?this.renderTable():null})}},{key:"renderTable",value:function(){return Object(I.jsxs)("table",{className:"bi-blocks-table__body bi-table",children:[Object(I.jsx)("thead",{className:"bi-blocks-table-header",children:Object(I.jsxs)("tr",{className:"bi-blocks-table-header bi-blocks-table__row bi-table__row",children:[Object(I.jsx)("th",{className:"bi-blocks-table__cell bi-table__cell",colSpan:1,children:Object(I.jsx)(h.a,{id:"common.token.id"})}),Object(I.jsx)("th",{className:"bi-blocks-table__cell bi-table__cell",colSpan:2,children:Object(I.jsx)(h.a,{id:"common.token.name"})}),Object(I.jsx)("th",{className:"bi-blocks-table__cell bi-table__cell",colSpan:1,children:Object(I.jsx)(h.a,{id:"common.token.amount"})}),Object(I.jsx)("th",{className:"bi-blocks-table__cell bi-table__cell",colSpan:1,children:Object(I.jsx)(h.a,{id:"common.token.decimals"})}),Object(I.jsx)("th",{className:"bi-blocks-table__cell bi-table__cell",colSpan:3,children:Object(I.jsx)(h.a,{id:"common.token.description"})})]})}),Object(I.jsx)("tbody",{children:this.props.tokens.map((function(e){return Object(I.jsxs)(W.Link,{to:"/token/".concat(e.id),className:"bi-blocks-table__row bi-table__row",children:[Object(I.jsxs)("td",{className:"bi-blocks-table__cell bi-table__cell bi-tokens-table__cell",colSpan:1,children:[Object(I.jsx)("div",{className:"bi-blocks-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.id"})}),Object(I.jsx)("input",{className:"bi-tokens-table__input",type:"text",value:e.id,readOnly:!0})]}),Object(I.jsxs)("td",{className:"bi-blocks-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:2,children:[Object(I.jsx)("div",{className:"bi-blocks-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.name"})}),e.name]}),Object(I.jsxs)("td",{className:"bi-blocks-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:1,children:[Object(I.jsx)("div",{className:"bi-blocks-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.amount"})}),Object(I.jsx)("input",{className:"bi-tokens-table__input",type:"text",value:P()({integerSeparator:" "})(e.emissionAmount),readOnly:!0})]}),Object(I.jsxs)("td",{className:"bi-blocks-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:1,children:[Object(I.jsx)("div",{className:"bi-blocks-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.decimals"})}),e.decimals]}),Object(I.jsxs)("td",{className:"bi-blocks-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:3,children:[Object(I.jsx)("div",{className:"bi-blocks-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.description"})}),Object(I.jsx)("div",{children:Object(I.jsx)(H,{lines:2,children:e.description})})]})]},e.id)}))})]})}}]),i}(m.a.Component)),J=(i(649),function(e){Object(c.a)(i,e);var t=Object(r.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).params=void 0,n.getPageUrl=n.getPageUrl.bind(Object(l.a)(n)),n.getLimitLink=n.getLimitLink.bind(Object(l.a)(n)),n.params=n.getParams(),n}return Object(a.a)(i,[{key:"componentDidMount",value:function(){this.reloadTokens(this.params)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getParams();JSON.stringify(t)!==JSON.stringify(this.params)&&(this.params=t,this.reloadTokens(this.params))}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"bi-data g-flex-column g-flex-column__item-fixed",children:[Object(I.jsx)(h.a,{id:"common.pages.issued-tokens.title",children:function(e){return Object(I.jsx)(u.a,{children:Object(I.jsx)("title",{children:e})})}}),Object(I.jsx)("div",{className:"bi-data__header g-flex-column__item-fixed g-flex",children:Object(I.jsx)("div",{className:"bi-data__title g-flex__item",children:Object(I.jsx)(h.a,{id:"components.issued-tokens.title"})})}),this.props.tokens.isFetching&&Object(I.jsx)("p",{className:"base-text",children:"Fetching Data..."}),this.props.tokens.data&&0===this.props.tokens.data.total&&Object(I.jsx)("div",{className:"bi-data__body g-flex-column__item-fixed",children:Object(I.jsx)(h.a,{id:"components.data.wrong-query"})}),!this.props.tokens.isFetching&&null!==this.props.tokens.data&&this.props.tokens.data.items.length>0&&Object(I.jsx)("div",{className:"bi-data__body g-flex-column__item-fixed",children:Object(I.jsx)(D,{tokens:this.props.tokens.data.items,isFetching:this.props.tokens.isFetching})}),null!==this.props.tokens.data&&this.props.tokens.data.items.length>0&&Object(I.jsxs)("div",{className:"bi-data__footer g-flex-column__item-fixed g-flex",children:[Object(I.jsx)("div",{className:"g-flex__item-fixed",children:Object(I.jsx)(_.a,{items:[30,60,120],selected:this.params.limit,label:Object(I.jsx)(h.a,{id:"components.data.show"}),getLimitLink:this.getLimitLink})}),Object(I.jsx)("div",{className:"g-flex__item-fixed",children:Object(I.jsx)(g.a,{total:this.props.tokens.data.total,limit:this.params.limit,getPageUrl:this.getPageUrl,forcePage:Math.floor(this.props.offset/this.params.limit)})})]})]})}},{key:"getPageUrl",value:function(e){var t=b.a.parse(this.props.history.location.search);return t.offset=e*this.params.limit,"/issued-tokens?".concat(b.a.stringify(t))}},{key:"getLimitLink",value:function(e){var t=b.a.parse(this.props.history.location.search);return t.limit=e,"/issued-tokens?".concat(b.a.stringify(t))}},{key:"reloadTokens",value:function(e){e=Object(n.a)(Object(n.a)(Object(n.a)({},this.params),e),{},{limit:e.limit||30,offset:e.offset||0}),Object.keys(e).forEach((function(t){null===e[t]&&delete e[t]})),this.props.getTokens(e),0===e.offset&&delete e.offset,30===e.limit&&delete e.limit,this.props.history.push("/issued-tokens?".concat(b.a.stringify(e)))}},{key:"getParams",value:function(){var e=b.a.parse(this.props.history.location.search),t=e.offset,i=e.limit;return t=parseInt(t,10),{limit:i=parseInt(i,10)||30,offset:t||0}}}]),i}(m.a.PureComponent)),q=Object(f.b)((function(e){return{tokens:T(e),offset:e.tokens.offset}}),(function(e){return Object(j.bindActionCreators)(Object(n.a)({},N),e)}))(J);t.default=q}}]);
//# sourceMappingURL=13.fa5c64af.chunk.js.map