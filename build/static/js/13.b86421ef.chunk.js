(this["webpackJsonpblockchain-explorer"]=this["webpackJsonpblockchain-explorer"]||[]).push([[13],{239:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var i=s(11),a=s(12),n=s(16),c=s(15),l=s(0),o=s.n(l),r=s(7),b=s(26),p=(s(240),s(9)),m=s(1),d=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){return Object(i.a)(this,s),t.call(this,e)}return Object(a.a)(s,[{key:"render",value:function(){var e=Math.ceil(this.props.total/this.props.limit);return e?Object(m.jsxs)("div",{className:"bi-paginate-simple",children:[0===this.props.forcePage?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",to:this.props.getPageUrl(0),children:Object(m.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})}),0===this.props.forcePage?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage-1),children:Object(m.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}),Object(m.jsx)("span",{className:"bi-paginate-simple__status",children:Object(m.jsx)(r.a,{id:"components.paginate-simple.page-of",values:{current:this.props.forcePage+1,total:e}})}),Object(m.jsx)("span",{className:"bi-paginate-simple__status bi-paginate-simple__status--mobile",children:Object(m.jsx)(r.a,{id:"components.paginate-simple.page",values:{current:this.props.forcePage+1}})}),this.props.forcePage===e-1?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage+1),children:Object(m.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}),this.props.forcePage===e-1?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(e-1),children:Object(m.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})})]}):null}}]),s}(o.a.Component)},240:function(e,t,s){},257:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var i=s(11),a=s(12),n=s(16),c=s(15),l=s(38),o=s.n(l),r=s(0),b=s.n(r),p=s(26),m=(s(258),s(1)),d=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"bi-limit-selector",children:[Object(m.jsx)("span",{className:"bi-limit-selector__label",children:this.props.label}),this.props.items.map((function(t,s){var i=o()({"bi-btn":!0,"bi-btn--flat":!0,"bi-limit-selector__item":!0,"bi-limit-selector__item--selected":t===e.props.selected});return Object(m.jsx)(p.Link,{className:i,to:e.props.getLimitLink(t),children:t},s)}))]})}}]),s}(b.a.PureComponent)},258:function(e,t,s){},653:function(e,t,s){},654:function(e,t,s){},673:function(e,t,s){"use strict";s.r(t);var i=s(3),a=s(11),n=s(12),c=s(20),l=s(16),o=s(15),r=s(56),b=s.n(r),p=s(0),m=s.n(p),d=s(65),u=s.n(d),j=s(7),h=s(25),_=s(21),f=s(651),O=s(257),k=s(239),g=s(18),x=s(82),v=s(46),y=function(){function e(){Object(a.a)(this,e)}return Object(n.a)(e,null,[{key:"apiUrl",get:function(){return"".concat(g.a.apiUrl)}},{key:"getAllIssuedTokens",value:function(e,t){var s=t.limit,i=t.offset;return Object(x.a)(v.b,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens",params:{limit:s,offset:i}},{dispatch:e})}},{key:"getSearchIssuedTokensByQuery",value:function(e,t){var s=t.searchQuery,i=t.limit,a=t.offset;return Object(x.a)(v.b,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens/search",params:{limit:i,offset:a,query:s}},{dispatch:e})}},{key:"getTotalIssuedTokens",value:function(e,t){var s=t.limit;return Object(x.a)(v.f,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens",params:{limit:s}},{dispatch:e})}},{key:"getIssuedTokensById",value:function(t,s){return Object(x.a)(v.c,{method:"get",url:"".concat(e.apiUrl,"/tokens/").concat(s,"/issuingBox")},{dispatch:t})}}]),e}(),N=s(106),P={getTokens:function(e){return function(t){var s,i;return!e.searchQuery||(null===(s=e.searchQuery)||void 0===s||null===(i=s.trim())||void 0===i?void 0:i.length)<3?y.getAllIssuedTokens(t,e).then((function(s){t({payload:{offset:e.offset||0},type:N.a})})):y.getSearchIssuedTokensByQuery(t,e).then((function(s){t({payload:{offset:e.offset||0},type:N.a})}))}}},S=s(31),L=function(e){return Object(S.getStruct)(v.b)(e)},T=s(47),I=s.n(T),U=s(26),Q=s(85),w=s(652),C=s(1),F=function(e){var t=e.children,s=e.lines,i=Object(p.useState)(!1),a=Object(Q.a)(i,2),n=a[0],c=a[1],l=Object(p.useState)(!1),o=Object(Q.a)(l,2),r=o[0],b=o[1],m=Object(C.jsxs)(C.Fragment,{children:[!n&&"...",Object(C.jsx)("br",{}),Object(C.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),c(!n)},children:Object(C.jsx)(j.a,{id:n?"common.token.showLess":"common.token.showMore"})})]});return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(w.a,{lines:!n&&s,ellipsis:m,onTruncate:b,children:t}),!r&&n&&m]})},A=(s(653),function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"bi-issued-tokens-table",children:this.props.tokens?this.renderTable():null})}},{key:"renderTable",value:function(){return Object(C.jsxs)("table",{className:"bi-issued-tokens-table__body bi-table",children:[Object(C.jsx)("thead",{className:"bi-issued-tokens-table-header",children:Object(C.jsxs)("tr",{className:"bi-issued-tokens-table-header bi-issued-tokens-table__row bi-table__row",children:[Object(C.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:1,children:Object(C.jsx)(j.a,{id:"common.token.id"})}),Object(C.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:2,children:Object(C.jsx)(j.a,{id:"common.token.name"})}),Object(C.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:1,children:Object(C.jsx)(j.a,{id:"common.token.amount"})}),Object(C.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:1,children:Object(C.jsx)(j.a,{id:"common.token.decimals"})}),Object(C.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:3,children:Object(C.jsx)(j.a,{id:"common.token.description"})})]})}),Object(C.jsx)("tbody",{children:this.props.tokens.map((function(e){return Object(C.jsxs)(U.Link,{to:"/token/".concat(e.id),className:"bi-issued-tokens-table__row bi-table__row",children:[Object(C.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell bi-tokens-table__cell",colSpan:1,children:[Object(C.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(C.jsx)(j.a,{id:"common.token.id"})}),Object(C.jsx)("input",{className:"bi-tokens-table__input",type:"text",value:e.id,readOnly:!0})]}),Object(C.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:2,children:[Object(C.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(C.jsx)(j.a,{id:"common.token.name"})}),e.name]}),Object(C.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:1,children:[Object(C.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(C.jsx)(j.a,{id:"common.token.amount"})}),Object(C.jsx)("input",{className:"bi-tokens-table__input",type:"text",value:I()({integerSeparator:" "})(e.emissionAmount),readOnly:!0})]}),Object(C.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:1,children:[Object(C.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(C.jsx)(j.a,{id:"common.token.decimals"})}),e.decimals]}),Object(C.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:3,children:[Object(C.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(C.jsx)(j.a,{id:"common.token.description"})}),Object(C.jsx)("div",{children:Object(C.jsx)(F,{lines:2,children:e.description})})]})]},e.id)}))})]})}}]),s}(m.a.Component)),B=(s(654),function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(e){var i;Object(a.a)(this,s),(i=t.call(this,e)).params=void 0,i.updateTable=Object(f.debounce)((function(e){var t=b.a.parse(i.props.history.location.search);i.props.history.push("/issued-tokens?".concat(b.a.stringify({searchQuery:e,limit:t.limit})))}),300),i.onChangeInput=function(e){i.setState({searchInput:e.target.value}),i.updateTable(e.target.value)},i.renderTable=function(){return i.props.tokens.isFetching?Object(C.jsx)("p",{className:"base-text",children:"Fetching Data..."}):i.props.tokens.data&&0===i.props.tokens.data.total?Object(C.jsx)("div",{className:"bi-issued-tokens__body g-flex-column__item-fixed",children:Object(C.jsx)(j.a,{id:"components.data.wrong-query"})}):!i.props.tokens.isFetching&&null!==i.props.tokens.data&&i.props.tokens.data.items.length>0?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"bi-issued-tokens__body g-flex-column__item-fixed",children:Object(C.jsx)(A,{tokens:i.props.tokens.data.items,isFetching:i.props.tokens.isFetching})}),Object(C.jsxs)("div",{className:"bi-issued-tokens__footer g-flex-column__item-fixed g-flex",children:[Object(C.jsx)("div",{className:"g-flex__item-fixed",children:Object(C.jsx)(O.a,{items:[30,60,120],selected:i.params.limit,label:Object(C.jsx)(j.a,{id:"components.data.show"}),getLimitLink:i.getLimitLink})}),Object(C.jsx)("div",{className:"g-flex__item-fixed",children:Object(C.jsx)(k.a,{total:i.props.tokens.data.total,limit:i.params.limit,getPageUrl:i.getPageUrl,forcePage:Math.floor(i.props.offset/i.params.limit)})})]})]}):void 0},i.getPageUrl=i.getPageUrl.bind(Object(c.a)(i)),i.getLimitLink=i.getLimitLink.bind(Object(c.a)(i));var n=b.a.parse(i.props.history.location.search).searchQuery;return i.params=i.getParams(),i.state={searchInput:n||""},i}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.reloadTokens(this.params)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getParams();JSON.stringify(t)!==JSON.stringify(this.params)&&(this.params=t,this.reloadTokens(this.params))}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"bi-issued-tokens g-flex-column g-flex-column__item-fixed",children:[Object(C.jsx)(j.a,{id:"common.pages.issued-tokens.title",children:function(e){return Object(C.jsx)(u.a,{children:Object(C.jsx)("title",{children:e})})}}),Object(C.jsxs)("div",{className:"bi-issued-tokens__header g-flex-column__item-fixed g-flex",children:[Object(C.jsx)("div",{className:"bi-issued-tokens__title",children:Object(C.jsx)(j.a,{id:"components.issued-tokens.title"})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{className:"bi-issued-tokens__input",type:"string",onChange:this.onChangeInput,value:this.state.searchInput,placeholder:"Search by ID or Number"})})]}),this.renderTable()]})}},{key:"getPageUrl",value:function(e){var t=b.a.parse(this.props.history.location.search);return t.offset=e*this.params.limit,"/issued-tokens?".concat(b.a.stringify(t))}},{key:"getLimitLink",value:function(e){var t=b.a.parse(this.props.history.location.search);return t.limit=e,"/issued-tokens?".concat(b.a.stringify(t))}},{key:"reloadTokens",value:function(e){e=Object(i.a)(Object(i.a)(Object(i.a)({},this.params),e),{},{limit:e.limit||30,offset:e.offset||0,searchQuery:e.searchQuery}),Object.keys(e).forEach((function(t){null===e[t]&&delete e[t]})),this.props.getTokens(e),0===e.offset&&delete e.offset,30===e.limit&&delete e.limit,this.props.history.push("/issued-tokens?".concat(b.a.stringify(e)))}},{key:"getParams",value:function(){var e=b.a.parse(this.props.history.location.search),t=e.offset,s=e.limit,i=b.a.parse(this.props.history.location.search).searchQuery;return t=parseInt(t,10),{limit:s=parseInt(s,10)||30,offset:t||0,searchQuery:i}}}]),s}(m.a.PureComponent)),D=Object(h.b)((function(e){return{tokens:L(e),offset:e.tokens.offset}}),(function(e){return Object(_.bindActionCreators)(Object(i.a)({},P),e)}))(B);t.default=D}}]);
//# sourceMappingURL=13.b86421ef.chunk.js.map